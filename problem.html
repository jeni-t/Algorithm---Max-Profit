<!DOCTYPE html>
<html>
<head>
  <title>Max Profit</title>
</head>
<body>
<script>
function maxProfit(n) {
  const buildings = {
    T: { time: 5, earn: 1500 },
    P: { time: 4, earn: 1000 },
    C: { time: 10, earn: 2000 }
  };

  let maxEarnings = 0;
  let solutions = [];

  // max possible counts (safe upper bound)
  const maxT = Math.floor(n / 5);
  const maxP = Math.floor(n / 4);
  const maxC = Math.floor(n / 10);

  for (let T = 0; T <= maxT; T++) {
    for (let P = 0; P <= maxP; P++) {
      for (let C = 0; C <= maxC; C++) {

        // total build time
        const totalBuildTime =
          T * 5 + P * 4 + C * 10;

        if (totalBuildTime > n) continue;

        // build higher earning earlier
        const buildOrder = [
          ...Array(T).fill("T"),
          ...Array(P).fill("P"),
          ...Array(C).fill("C")
        ].sort(
          (a, b) => buildings[b].earn - buildings[a].earn
        );

        let time = 0;
        let earnings = 0;

        for (let b of buildOrder) {
          time += buildings[b].time;
          if (time <= n) {
            earnings += (n - time) * buildings[b].earn;
          }
        }

        if (earnings > maxEarnings) {
          maxEarnings = earnings;
          solutions = [{ T, P, C }];
        } else if (earnings === maxEarnings && earnings > 0) {
          solutions.push({ T, P, C });
        }
      }
    }
  }

  return {
    timeUnit: n,
    earnings: maxEarnings,
    solutions
  };
}
// Test case
console.log("n = 7", maxProfit(7));
console.log("n = 8", maxProfit(8));
console.log("n = 13", maxProfit(13));
console.log("n = 49", maxProfit(49));
</script>
</body>
</html>
